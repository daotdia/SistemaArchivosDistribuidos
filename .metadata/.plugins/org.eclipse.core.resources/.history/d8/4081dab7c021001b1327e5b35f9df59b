package es.uned.sisdist.servidor;

import java.rmi.Remote;
import java.rmi.RemoteException;

import es.uned.sisdist.common.ServicioDatosInterface;

public class Servidor implements Remote {
	
	private static ServicioDatosImpl bd;
	private static ServicioAutenticacionImpl au;
	
	public Servidor() throws RemoteException {
		bd = new ServicioDatosImpl();
		au = new ServicioAutenticacionImpl(bd);
	}
	
	public void gestion_usuarios (String nombre, int tipo, int opcion) 
			throws RemoteException {
		switch(opcion) {
		case 0:
			au.registrarObjeto(nombre, tipo);
			break;
		case 1:
			au.iniciarSesion(nombre, tipo);
			linkRepositorio();
			crearCarpeta();
			break;
		case 2:
			au.cerrarSesion(nombre, tipo);
			unlinkRepositorio();
			deleteCarpeta();
			break;
		case 3:
			au.deleteObjeto(nombre, tipo);
			break;
		}
	}
	
}

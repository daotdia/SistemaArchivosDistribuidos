package es.uned.sisdist.servidor;

import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import es.uned.sisdist.common.ServicioDatosInterface;

public class ServicioDatosImpl implements ServicioDatosInterface{

	private List<String> usuarios_registrados, repositorios_registrados;
	private HashMap<String, Integer> usuarios_activos, repositorios_activos;
	private HashMap<String,List<Integer>> repositorios_usuario;
	private List<Repositorio> repositorios_libres;
	
	public ServicioDatosImpl (ArrayList<Repositorio> repositorios) {
		usuarios_registrados = new ArrayList<String>();
		repositorios_registrados = new ArrayList<String>();
		usuarios_activos = new HashMap<String,Integer>();
		repositorios_activos = new HashMap<String,Integer>();
		repositorios_usuario = new HashMap<String,List<Integer>>();
	}

	public void registrarCliente(String nombre) throws RemoteException {
		usuarios_registrados.add(nombre);
	}

	public void registrarRepositorio(String nombre) throws RemoteException {
		repositorios_registrados.add(nombre);
	}

	public void deleteCliente(String nombre) throws RemoteException {
		usuarios_registrados.remove(usuarios_registrados.indexOf(nombre));
	}

	public void deleteRepositorio(String nombre) throws RemoteException {
		repositorios_registrados.remove(repositorios_registrados.indexOf(nombre));
	}

	@Override
	public void addId(String nombre, int identificador, int tipo) throws RemoteException {
		if(tipo == 0) {
			usuarios_activos.put(nombre, identificador);
		}
		else
			repositorios_activos.put(nombre, identificador);
	}

	@Override
	public int linkRepositorio(int id_cliente) throws RemoteException {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public boolean unlinkRepositorio(int id_cliente) throws RemoteException {
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public Map<Integer, List<Integer>> getRepositoriosCliente(int id_cliente) throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<String> getListaRepositorios() throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<String> getListaFicheros(int sesion) throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<String> getListaClientes() throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public HashMap<String, Integer> getListaClientesActivos() throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public HashMap<String, Integer> getListaRepositoriosActivos() throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}
	
}
